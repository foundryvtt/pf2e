<form {{#if flat}}data-flat="{{flat}}"{{/if}} autocomplete="off" autocapitalize="off">
    <header>
        <input type="search" id="{{options.id}}-search" placeholder="&#xf002;" aria-label="Filter" />
    </header>

    <ul class="{{#if allowCustom}}has-custom{{/if}} {{#if hasRarity}}has-rarity{{/if}}">
        {{#each choices as |choice key|}}
        <li>
            <label class="option">
                <input type="checkbox" name="{{key}}" {{checked choice.selected}} {{disabled choice.disabled}} />
                <span>{{choice.label}}</span>
            </label>
            {{#if choice.rarity~}}
                <div class="tags paizo-style">
                        <span class="tag rarity {{choice.rarity.slug}}">{{choice.rarity.label}}</span>
                </div>
            {{~/if}}
        </li>
        {{/each}}
    </ul>
    {{#if allowCustom}}
        <div class="form-group stacked trait-footer">
            <label for="{{options.id}}-details">{{localize "PF2E.SpecialLabel"}}:</label>
            <input type="text" id="{{options.id}}-details" name="custom" value="{{custom}}" />
        </div>
    {{/if}}

    <hr />

    <footer>
        <button type="submit" class="trait-footer">
            <i class="fa-regular fa-save"></i>{{localize "DOCUMENT.Update" type=(localize documentType)}}
        </button>
    </footer>
</form>
